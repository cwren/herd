---
import { Image } from 'astro:assets';
import BaseLayout from '../../layouts/BaseLayout.astro';
import profileRef from '../../assets/profile.png'; 

import { Button } from "@/components/ui/button"
import { Textarea } from "@/components/ui/textarea"

const { address, representatives } = Astro.props;
const pageTitle = "Draft Your Letter";
const today = new Date().toLocaleString('default', {
    weekday: 'long',
    day: 'numeric',
    month: 'long',
    year: 'numeric',
});

---
<BaseLayout pageTitle={pageTitle}>
    </div>
    <div class="flow-root">  
        <div class="w-2/3 md:w-1/3 md:float-right">
            <i>
                from:
            </i>
            <p>
                {address.name} <br />
                {address.street} <br />
                {address.city}, {address.state} {address.zipcode}
            </p>
        </div>
    </div>
    <div class="flow-root">  
        <div class="w-2/3 md:w-1/2 md:float-left">
            <div class="flex flex-row">
                {representatives.map((rep: { [x: string]: string; }) => 
                    <Image class="w-1/3 m-1" src={rep['photoURL']} alt={rep['name']} inferSize={true}/>
                )}
            </div>
            <p>
                {today}
            </p>
            {representatives.map((rep: { [x: string]: string; }) => 
                <p class="m-0">
                    The Honorable {rep['name']},
                </p>
            )}
        </div>
    </div>
    <div class="grid w-full gap-2 h-48">
        <Textarea placeholder="On this occasion, I write to you on a topic of grave importance. &mldr;" />
    </div>
    <div class="flow-root">  
        <div class="w-2/3 md:w-1/2 md:float-right">
            <div class="flex md:flex-row flex-col">
                    <Image class="w-1/3" src={profileRef} alt="your photo here"/>
            </div>
            <p>
                Sincerely yours,
            </p>
            <p>
                {address.name}
            </p>
            <Button type="submit">Submit</Button>  
        </div>
    </div>
</BaseLayout>
